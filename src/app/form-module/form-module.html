@if (dispayPaymentMethod()) {

  <!-- [payload]="formData" -->
   
    <app-payment-gateway></app-payment-gateway>
} @else {
  <div class="d-flex align-items-center justify-content-center vh-60">
    
    <div class="container p-4 bg-opacity-50 text-light rounded shadow-lg border border-secondary" 
         style="max-width: 900px; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(100px);">
      
      <h2 class="mb-4 text-center fw-bold">Career Consultation</h2>
      
      <form #consultationForm="ngForm">
        <div class="row mb-3">
          <div class="col-md-6">
            <label class="form-label">First Name</label>
            <input type="text" class="form-control" [(ngModel)]="formData.fullName" name="firstName" 
                   #firstName="ngModel" required [class.is-invalid]="firstName.invalid && firstName.touched" placeholder="John">
            <div class="invalid-feedback">First name is required.</div>
          </div>
          
          <div class="col-md-6">
            <label class="form-label">Last Name</label>
            <input type="text" class="form-control" [(ngModel)]="formData.lastName" name="lastName" 
                   #lastName="ngModel" required [class.is-invalid]="lastName.invalid && lastName.touched" placeholder="Doe">
            <div class="invalid-feedback">Last name is required.</div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label class="form-label">Email Address</label>
            <input type="email" class="form-control" [(ngModel)]="formData.email" name="email" 
                   #email="ngModel" required email [class.is-invalid]="email.invalid && email.touched" placeholder="john@example.com">
            <div class="invalid-feedback">Please enter a valid email.</div>
          </div>
          
          <div class="col-md-6">
            <label class="form-label">Phone Number</label>
            <input type="tel" class="form-control" [(ngModel)]="formData.phone" name="phone" 
                   #phone="ngModel" required minlength="10" [class.is-invalid]="phone.invalid && phone.touched" placeholder="+234...">
            <div class="invalid-feedback">Valid phone number is required.</div>
          </div>
        </div>

        <div class="mb-3">
            <label class="form-label fw-bold">Consultation Type</label>
            <select class="form-select mb-3" [(ngModel)]="formData.type" name="consultationType" 
                    #type="ngModel" required [class.is-invalid]="type.invalid && type.touched">
                <option value="" selected disabled>Choose a service...</option>
                <option value="1">Career Development</option>
                <option value="2">Project direction</option>
                <option value="3">General advice and others</option>
            </select>

            <label class="form-label fw-bold">Select Date</label>
            <input type="date" class="form-control mb-3" [(ngModel)]="formData.date" name="bookingDate" 
                   #date="ngModel" required [class.is-invalid]="date.invalid && date.touched">
        </div>
        
        <div class="d-flex justify-content-end gap-2 mt-4">
          <button type="button" class="btn btn-outline-light" (click)="close()">Cancel</button>
          
          <button type="button" class="btn btn-primary px-4" 
                  [disabled]="consultationForm.invalid" 
                  (click)="handleSubmit()">
            Submit
          </button>
        </div>
      </form>
    </div>
  </div>
}